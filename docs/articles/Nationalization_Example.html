<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Nationalization Example • nationalization</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Nationalization Example">
<meta property="og:description" content="nationalization">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">nationalization</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/Nationalization_Example.html">Nationalization Example</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="Nationalization_Example_files/header-attrs-2.7/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Nationalization Example</h1>
            
      
      
      <div class="hidden name"><code>Nationalization_Example.Rmd</code></div>

    </div>

    
    
<div id="introduction-and-purpose" class="section level2">
<h2 class="hasAnchor">
<a href="#introduction-and-purpose" class="anchor"></a>Introduction and Purpose</h2>
<p>This package specifically utilizes data from the Constituency-Level Elections Archive (<a href="http://www.electiondataarchive.org./">CLEA</a>) to create party nationalization datasets, which contain effective number of parties measures (ENP), as well as several measures of party nationalization. These measures exist for both Lower Chamber and Upper Chamber election results at three different levels of aggregation: the national level, the party level, and the constituency level. Moreover, Gini measures of inequality are included as well, which are utilized for various measures. This package contains the main function to create and populate these databases, as well as scripts for post-processing of these measures and comparison of said measures to existing measures on the archive.</p>
<p>The following is a robust example of the usage of the nationalization package’s nationalization script. More information is available <a href="http://www.electiondataarchive.org./">here</a> on CLEA generally, or <a href="http://www.electiondataarchive.org./party-nationalization-measures.php">here</a> about these measures of nationalization more-specifically.</p>
</div>
<div id="installing-nationalization" class="section level2">
<h2 class="hasAnchor">
<a href="#installing-nationalization" class="anchor"></a>Installing <code>nationalization</code>
</h2>
<p>The package is housed on GitHub <a href="https://github.com/simongamerpage/nationalization">here</a> and can easily be downloaded using the <code>devtools</code> package:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"devtools"</span><span class="op">)</span>
<span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org//reference/remote-reexports.html">install_github</a></span><span class="op">(</span><span class="st">"simongamerpage/nationalization"</span><span class="op">)</span></code></pre></div>
<p>Note that it is highly recommended to install all necessary dependencies if/when prompted during the installation process. While this package only depends on five packages, those packages have their own dependencies, which are necessary to be installed and up-to-date on the user’s local machine. <code>R</code> may prompt the user to restart their session prior to installation, which is recommended; however, <code>R</code> does this for <em>every</em> package being downloaded or updated, thus opting to restart only once is acceptable.</p>
</div>
<div id="using-appropriate-data" class="section level2">
<h2 class="hasAnchor">
<a href="#using-appropriate-data" class="anchor"></a>Using Appropriate Data</h2>
<p>As noted, <code><a href="../reference/nationalization.html">nationalization()</a></code> requires data in CLEA format, where the most crucial variables include the identifying information (<code>id</code>,<code>ctr_n</code>, etc…) and the users vote total/vote share columns of choice, where <code>pv1</code> &amp; <code>pvs1</code> are the recommended default. The following is a list of the variables used, where <code>cv1</code>/<code>cvs1</code> are only useful if the user opts to use them in the <code>CandidateOrPartyBased argument</code>:</p>
<pre><code>#&gt;  [1] "id"    "ctr_n" "ctr"   "yr"    "mn"    "cst"   "cst_n" "pty"   "pty_n"
#&gt; [10] "vv1"   "pv1"   "pvs1"  "cv1"   "cvs1"  "seat"</code></pre>
</div>
<div id="using-nationalization" class="section level2">
<h2 class="hasAnchor">
<a href="#using-nationalization" class="anchor"></a>Using <code>nationalization</code>
</h2>
<p>To use <code><a href="../reference/nationalization.html">nationalization::nationalization()</a></code>, only three arguments are absolutely necessary, which are listed and briefly explained below:</p>
<ul>
<li>
<code>dataSource</code>: where the CLEA data file exists on the users local machine. For example, if my CLEA data is in my computer’s <strong>Downloads</strong> folder on Windows, my argument may look like this: “C:/Users/pagesim/Downloads/CLEA_data.rdata”.
<ul>
<li>For more information on working directories, use <code>?getwd()</code> to read about file paths and/or the nature of a working directory.</li>
</ul>
</li>
<li>
<code>dataFormat</code>: the type of file being used for the aforementioned CLEA data. Note that the following formats are acceptable, and must be specified with the period and data type in quotation marks: “.csv”,“.xlsx”,“.rdata”, or “.dta”.
<ul>
<li>On Windows, right click your CLEA file and select <code>Properties</code> if you are not aware what type of data file you have.</li>
</ul>
</li>
<li>
<code>outputFolder</code>: where the user wants the output data files to be written and saved on their local machine. For example, if I had a folder on my Desktop where I wanted the output called “Output”, my argument would look like the following on Windows: “C:/Users/pagesim/Desktop/output”. Much like <code>dataSource</code>, see <code><a href="https://rdrr.io/r/base/getwd.html">?getwd</a></code> for help on working directories &amp; their specification.</li>
</ul>
<p>A number of other arguments are available for the advanced user, which do not even need to be specified to run the script. For example, the user can change the way the inequality measure is computed with <code>inequalityType</code>, opt to use <code>cv1</code>/<code>cvs1</code> instead of party-based values in the <code>CandidateOrPartyBased</code> argument, or even opt to maintain smaller parties that should be removed in the <code>filterSmallParties</code> argument. More information on the possible inputs of all the arguments can be read in the help section for nationalization, namely by typing <code><a href="../reference/nationalization.html">?nationalization</a></code>.</p>
<p>Now, it is time to run! In this example, my data exists on my Desktop, in a folder titled “CLEA”, which is in <code>.rdata</code> format, and I want the output in that same folder, where a sub-folder called “output” exists.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">nationalization</span><span class="op">)</span>
<span class="fu"><a href="../reference/nationalization.html">nationalization</a></span><span class="op">(</span>dataSource <span class="op">=</span> <span class="st">"C:/Users/pagesim/Desktop/CLEA/CLEA_LC_R14.rdata"</span>,
                dataFormat <span class="op">=</span> <span class="st">".rdata"</span>,
                outputFolder <span class="op">=</span> <span class="st">"C:/Users/pagesim/Desktop/CLEA/output/"</span><span class="op">)</span>
<span class="co">#&gt; [1] ---------------------------------------------------</span>
<span class="co">#&gt; [1] Initializing... Checking Packages &amp; Data Existence</span>
<span class="co">#&gt; [1] ---------------------------------------------------</span>
<span class="co">#&gt; [1] Sucessfully created subset for Gini &amp; party-level measures...</span>
<span class="co">#&gt; [1] Sucessfully created subset for national-level ENP measures...</span>
<span class="co">#&gt; [1] Sucessfully created subset for constituency-level measures...</span>
<span class="co">#&gt; [1] Sucessfully created subset for national-level inflation/PSNS measures...</span>
<span class="co">#&gt; [1] Sucessfully created subset for national-level local_E measures...</span>
<span class="co">#&gt; [1] --------------------------------</span>
<span class="co">#&gt; [1] Computing inequality measures...</span>
<span class="co">#&gt; [1] --------------------------------</span>
<span class="co">#&gt; [1] Gini inequality measures successfully computed! Moving to party-level...</span>
<span class="co">#&gt; [1] ---------------------------------</span>
<span class="co">#&gt; [1] Computing Party Level Dataset...</span>
<span class="co">#&gt; [1] ---------------------------------</span>
<span class="co">#&gt; [1] Party-level measures successfully computed! Moving to national-level...</span>
<span class="co">#&gt; [1] ------------------------------------</span>
<span class="co">#&gt; [1] Computing National Level Dataset...</span>
<span class="co">#&gt; [1] ------------------------------------</span>
<span class="co">#&gt; [1] National-level measures successfully computed! Moving to constituency-level...</span>
<span class="co">#&gt; [1] ---------------------------------------</span>
<span class="co">#&gt; [1] Computing Constituency Level Dataset...</span>
<span class="co">#&gt; [1] ---------------------------------------</span>
<span class="co">#&gt; [1] Constituency-level measures successfully computed!</span>
<span class="co">#&gt; The entire computation took  2.862333 mins </span>
<span class="co">#&gt; [1] Done!</span></code></pre></div>
<p>As you can see, the script ran well on this test data, which happens to be CLEA’s Release 14 (approx. 1.1 million rows).</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Simon Page.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
